!function(t,e,n,o){function i(t,e,n){["-webkit-","-moz-","-o-","-ms-",""].forEach(function(o){t.css(o+e,n)})}function s(e,n){this._timeouts=[],this.element=t(e),this.options=t.extend({},r,n),this._defaults=r,this._name=a,this.init(),this.unhook(),this.hook()}var a="circleMenu",r={depth:0,item_diameter:30,circle_radius:80,angle:{start:0,end:90},speed:500,delay:1e3,step_out:20,step_in:-20,trigger:"hover",transition_function:"ease",effects_array:["animated","bounce","zoomInDown","zoomOutUp","zoomInLeft","zoomOutRight","zoomInRight","zoomOutLeft","zoomInUp","zoomOutDown","rubberBand","wobble","fadeIn","fadeOut","flip","lightSpeedIn","lightSpeedOut","rotateIn","rotateOut","rotateInDownLeft","rotateOutDownLeft","zoomIn","tada"],openedImg:"",closedImg:""};s.prototype.init=function(){var e,n=this,o={"bottom-left":[180,90],bottom:[135,45],right:[-45,45],left:[225,135],top:[225,315],"bottom-half":[180,0],"right-half":[-90,90],"left-half":[270,90],"top-half":[180,360],"top-left":[270,180],"top-right":[270,360],full:[-90,270-Math.floor(360/(n.element.children("li").length-1))],"bottom-right":[0,90]};n._state="closed",n.element.addClass(a+"-closed"),circleMenuBackgroundImg(n.element,n.options.closedImg),"string"==typeof n.options.direction&&(e=o[n.options.direction.toLowerCase()],e&&(n.options.angle.start=e[0],n.options.angle.end=e[1])),n.menu_items=n.element.children("li:not(:first-child)"),n.initCss(),n.item_count=n.menu_items.length,n._step=(n.options.angle.end-n.options.angle.start)/(n.item_count-1),n.menu_items.each(function(e){var o=t(this),i=(n.options.angle.start+n._step*e)*(Math.PI/180),s=Math.round(n.options.circle_radius*Math.cos(i)),r=Math.round(n.options.circle_radius*Math.sin(i));o.data("plugin_"+a+"-pos-x",s),o.data("plugin_"+a+"-pos-y",r),o.on("click",function(){n.select(e+2)})}),["open","close","init","select"].forEach(function(t){var e;n.options[t]&&(e=n.options[t],n.element.on(a+"-"+t,function(){return e.apply(n,arguments)}),delete n.options[t])}),n.submenus=n.menu_items.children("ul"),n.submenus.circleMenu(t.extend({},n.options,{depth:n.options.depth+1})),n.trigger("init")},s.prototype.trigger=function(){var t,e,n=[];for(t=0,e=arguments.length;e>t;t++)n.push(arguments[t]);this.element.trigger(a+"-"+n.shift(),n)},s.prototype.unhook=function(){var t=this;t.element.off("mouseenter").off("mouseleave"),t.element.children("li:first-child").off("click")},s.prototype.hook=function(){var e=this;"hover"===e.options.trigger?e.element.on("mouseenter",function(){"opening"!=e._state&&e.open()}).on("mouseleave",function(){"opening"==e._state?(t(n).off("wpcm_items_open"),t(n).on("wpcm_items_open",function(){e.close()})):e.close()}):"click"===e.options.trigger?e.element.children("li:first-child").on("click",function(t){return t.preventDefault(),"closed"===e._state||"closing"===e._state?e.open():e.close(!0),!1}):"none"===e.options.trigger},s.prototype.open=function(){var e,s=this,r=this.element,l=0;return s.clearTimeouts(),"open"===s._state?s:(r.addClass(a+"-open"),circleMenuBackgroundImg(s.element,s.options.openedImg),r.removeClass(a+"-closed"),e=s.options.step_out<0?t(s.menu_items.get().reverse()):s.menu_items,e.each(function(e){var n=t(this);s._timeouts.push(setTimeout(function(){n.css({left:n.data("plugin_"+a+"-pos-x")+"px",top:n.data("plugin_"+a+"-pos-y")+"px"}),i(n,"transform","scale(1)"),"ease"!=s.options.transition_function&&"--"!=s.options.transition_function&&n.addClass("animated "+s.options.transition_function)},l+Math.abs(s.options.step_out)*e)),n.removeClass(o!==s.options.transition_function_extra?s.options.transition_function+" "+s.options.transition_function_extra:s.options.transition_function)}),s._timeouts.push(setTimeout(function(){"opening"===s._state&&s.trigger("open"),s._state="open",s._timeouts.push(setTimeout(function(){t(n).trigger("wpcm_items_open")},1e3))},l+Math.abs(s.options.step_out)*e.length)),s._state="opening",s)},s.prototype.close=function(e){var s=t(n.querySelectorAll(":hover")).hasClass("wpcm-link-wrapper")||t(n.querySelectorAll(":hover")).hasClass("wpcm-each-link")||t(n.querySelectorAll(":hover")).hasClass("wpcm-link-img"),r=this;return $self=this.element,do_animation=function(){$self.find(".wpcm-link-wrapper").removeClass("animated "+r.options.transition_function);var e,n=0;if(r.submenus.circleMenu("close"),r.clearTimeouts(),"closed"===r._state)return r;if(e=r.options.step_in<0?t(r.menu_items.get().reverse()):r.menu_items,"ease"!=r.options.transition_function&&"--"!=r.options.transition_function){var s=100;r._timeouts.push(setTimeout(function(){e.each(function(e){var s=t(this);r._timeouts.push(setTimeout(function(){s.addClass(o!==r.options.transition_function_extra?"animated "+r.options.transition_function_extra:"animated "+r.options.transition_function),r._timeouts.push(setTimeout(function(){s.css({top:0,left:0}),r._timeouts.push(setTimeout(function(){o!==r.options.transition_function_extra&&s.removeClass("animated "+r.options.transition_function_extra),s.removeClass("animated "+r.options.transition_function)},200))},300)),i(s,"transform","scale(.5)")},n+Math.abs(r.options.step_in)*e))})},s))}else e.each(function(e){var o=t(this);r._timeouts.push(setTimeout(function(){o.css({top:0,left:0}),i(o,"transform","scale(.5)")},n+Math.abs(r.options.step_in)*e))});return r._timeouts.push(setTimeout(function(){"closing"===r._state&&r.trigger("close"),r._state="closed"},n+Math.abs(r.options.step_in)*e.length)),$self.removeClass(a+"-open"),$self.addClass(a+"-closed"),circleMenuBackgroundImg(r.element,r.options.closedImg),r._state="closing",r},s||(e?do_animation():r._timeouts.push(setTimeout(do_animation,r.options.delay))),this},s.prototype.select=function(t){var e,n,o=this;("open"===o._state||"opening"===o._state)&&(o.clearTimeouts(),o.element.children("li").removeClass(o.options.effects_array.join(" ")),n=o.element.children("li:not(:nth-child("+t+"),:first-child)"),e=o.element.children("li:nth-child("+t+")"),o.trigger("select",e),i(e.add(n),"transition","all 500ms ease-out"),i(e,"transform","scale(2)"),i(n,"transform","scale(0)"),e.css("opacity","0"),n.css("opacity","0"),o.element.removeClass(a+"-open"),setTimeout(function(){o.initCss()},500))},s.prototype.clearTimeouts=function(){for(var t;t=this._timeouts.shift();)clearTimeout(t)},s.prototype.initCss=function(){var t,e=this;e._state="closed",e.element.removeClass(a+"-open"),e.element.css({"list-style":"none",margin:0,padding:0,width:e.options.item_diameter+"px"}),t=e.element.children("li"),t.attr("style",""),t.css({display:"block",width:e.options.item_diameter+"px",height:e.options.item_diameter+"px","text-align":"center","line-height":e.options.item_diameter+"px",position:"absolute","z-index":1,opacity:""}),e.element.children("li:first-child").css({"z-index":1e3-e.options.depth}),e.menu_items.css({top:0,left:0}),i(t,"border-radius",e.options.item_diameter+"px"),i(e.menu_items,"transform","scale(.5)"),e._timeouts.push(setTimeout(function(){"--"==e.options.transition_function||"ease"==e.options.transition_function?i(t,"transition","all "+e.options.speed+"ms "+e.options.transition_function):i(t,"transition","all "+e.options.speed+"ms ease")},0)),circleMenuBackgroundImg(e.element,e.options.closedImg)},t.fn[a]=function(e,n){return o===n&&(n=!1),this.each(function(){var o=t.data(this,"plugin_"+a),i={init:function(){o.init()},open:function(){o.open()},close:function(){o.close(!0)}};"string"==typeof e&&o&&i[e]&&i[e](),n&&(o=null),o||t.data(this,"plugin_"+a,new s(this,e))})},circleMenuBackgroundImg=function(e,n){t(e.find("li").get(0)).css({"background-image":"url("+n+")"})}}(jQuery,window,document);